#!/usr/bin/env bash

#===============================================================================================
# PRE-LAUNCH SETUP
#===============================================================================================
# Only execute when running independently of initial install
if [ -z $RUN_SECONDARY ] || [ $RUN_SECONDARY = false ]; then
    . ./lib/functions
    loggers
fi

header

#===============================================================================================
# SYSTEM PERSONALIZATION
#===============================================================================================
section "Running System Personalization"

#- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
setDefaultShell
copyFiles
setSettings
#- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
if [ isZsh ]; then
    installOMZ
    installSpaceshipPrompt
fi
installStarshipPrompt
addShellCompletions
#- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
configureGit
configureSSH
configureGPG

#===============================================================================================
# BACKUPS
#===============================================================================================
section "Backups"
restoreBackups

#===============================================================================================
# UPDATES
#===============================================================================================
section "Updates"
updateMacOS

#===============================================================================================
# COMPLETED
#===============================================================================================
footer "Secondary"
