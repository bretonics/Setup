#!/usr/bin/env bash

#===============================================================================================
# HELPER FUNCTIONS
#===============================================================================================

# Global Variables
source ./bin/globals

# Get Apple ID Username (email)
getAccountId() {
    defaults read MobileMeAccounts Accounts | sed -n -e 's/.*AccountID = \"\(.*\)\"\;/\1/p'
}

# Display Nicely Formatted Message
message() {
    if [ "$1" = "info" ]; then
        local msg="${RED}\n\n${EMOJI_INFO}  ${2}${NC}\n\n\n"
    elif [ "$1" = "warning" ]; then
        local msg="${RED}\n\n${EMOJI_WARNING}  ${2}${NC}\n\n\n"
    elif [ "$1" = "fail" ]; then
        local msg="${RED}\n\n${EMOJI_FAIL} ${2}${NC}\n\n\n"
    elif [ "$1" = "error" ]; then
        local msg="${RED}\n\n${EMOJI_ERROR}  ${2}${NC}\n\n\n"
    else
        local msg="${GREEN}\n\n${EMOJI_CHECKMARK}  ${1}${NC}\n\n\n"
    fi

    shift
    printf "${msg}"
}
